{"componentChunkName":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx","path":"/load-test-with-grafana-k6","result":{"data":{"post":{"slug":"/load-test-with-grafana-k6","title":"Pruebas de carga con k6","date":"20.06.2022","tags":[{"name":"load-test","slug":"load-test"},{"name":"tutorial","slug":"tutorial"},{"name":"Go","slug":"go"},{"name":"Postman","slug":"postman"},{"name":"jwt","slug":"jwt"},{"name":"programación","slug":"programacion"},{"name":"heroku","slug":"heroku"}],"description":null,"canonicalUrl":null,"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Pruebas de carga con k6\",\n  \"date\": \"2022-06-20T11:10:00.000Z\",\n  \"tags\": [\"load-test\", \"tutorial\", \"Go\", \"Postman\", \"jwt\", \"programación\", \"heroku\"],\n  \"slug\": \"/load-test-with-grafana-k6\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h3\", null, \"Hola mundo, bienvenidos a este tutorial donde voy a intentar explicar como aplicar pruebas de carga con k6 sobre una peque\\xF1a api que construir\\xE9 en Go.\"), mdx(\"p\", null, \"Como mencion\\xE9 primero construir\\xE9 una peque\\xF1a api en Go que es la que posteriormente se le aplicar\\xE1 las pruebas, entonces empecemos con el proceso de construcci\\xF3n de la api.\"), mdx(\"p\", null, \"Para este caso vamos a usar \", mdx(\"a\", {\n    href: \"https://docs.gofiber.io/\",\n    target: \"_blank\"\n  }, \"Fiber\"), \" una librer\\xEDa de Go que nos permite construir una api r\\xE1pido y sencillo y adem\\xE1s es bastante \\\"similar\\\" a Express para los que nos gusta usar Nodejs.\"), mdx(\"p\", null, \"Entonces empezamos, creamos un directorio y dentro de el creamos nuestro archivo \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"main.go\"), \" y ejecutamos por consola los siguiente comandos:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"go mod init joralmo.pro/JoralmoPro/msExample\\ngo get -u github.com/gofiber/fiber/v2\\n\")), mdx(\"p\", null, \"Los anteriores comandos son para iniciar el \\\"proyecto\\\" en Go, y luego instalamos la librer\\xEDa de Fiber.\"), mdx(\"p\", null, \"Ahora en el archivo \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"main.go\"), \"empezamos a escribir la api:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"package main\\n\\nimport (\\n  \\\"os\\\"\\n\\n  \\\"github.com/gofiber/fiber/v2\\\"\\n)\\nfunc main() {\\n  app := fiber.New()\\n  app.Get(\\\"/\\\", func(c *fiber.Ctx) error {\\n        return c.SendString(\\\"Hello, World!\\\")\\n  })\\n  port := os.Getenv(\\\"PORT\\\")\\n  if port == \\\"\\\" {\\n    port = \\\"3000\\\"\\n  }\\n  app.Listen(\\\":\\\" + port)\\n}\\n\")), mdx(\"p\", null, \"Esto solo para probar que funciona, ejecutamos en consola \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"go run main.go\"), \" y vamos al navegador en \", mdx(\"a\", {\n    href: \"http://localhost:3000\",\n    target: \"_blank\"\n  }, \"localhost:3000\"), \" y vemos que nos devuelve el mensaje \\\"Hello, World!\\\".\"), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"656px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"33.75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABA0lEQVQoz63My07CUABF0TsWwm1rRMOjBapICm2BAsUHImIsEKAVjY//0hg0Tpz5ldtQTXDgyDBY2Wd0xHuzytIyWfXNPeQz6PPst5leTOmdjwlGEWH0SBg9xPtqOCWcLPA7fWzHx613cdw18dqweKmaLFe1y3yctnhqNVgMxgxOBixGc+7nt9zNboiCGZOzS66HY3reMe2ah++06PwiuqUinp7naL8Uc/bSOLs7NLJZXL2IndWpZfIxO6fj5AvYOYO6UaJZNGkWzO/+EAeWRcYwMCsVypaFmk6zJRUSikJSpkgqck2uJWTqT0KRKTRVRZEyttrbmvZvQtM0NkmoqrrRwy8h0cYEo1tDmgAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Imagen de prueba inicial\",\n    \"title\": \"Imagen de prueba inicial\",\n    \"src\": \"/static/a03e74b5d81cd28cae971cfb5fdf8f50/abbf1/localhost.png\",\n    \"srcSet\": [\"/static/a03e74b5d81cd28cae971cfb5fdf8f50/5243c/localhost.png 240w\", \"/static/a03e74b5d81cd28cae971cfb5fdf8f50/ab158/localhost.png 480w\", \"/static/a03e74b5d81cd28cae971cfb5fdf8f50/abbf1/localhost.png 656w\"],\n    \"sizes\": \"(max-width: 656px) 100vw, 656px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(\"p\", null, \"Para colocar mas l\\xF3gica a nuestra api agregaremos un nuevo endpoint que nos retornar\\xE1 un listado de usuarios generados con \", mdx(\"a\", {\n    href: \"https://pkg.go.dev/github.com/bxcodec/faker/v3#section-readme\",\n    target: \"_blank\"\n  }, \"Faker\"), \" (un paquete que genera data aleatoria) y en este caso la generar\\xE1 basada en un modelo de usuarios que crearemos, primero instalamos el paquete, desde la consola ejecutamos:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"go get -u github.com/bxcodec/faker/v3\\n\")), mdx(\"p\", null, \"A\\xF1adimos el modelo de usuarios a nuestro archivo \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"main.go\"), \" (despu\\xE9s de los imports):\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"type User struct {\\n    Id         int\\n    FirstName  string  `faker:\\\"first_name\\\"`\\n    LastName   string  `faker:\\\"last_name\\\"`\\n    Email      string  `faker:\\\"email\\\"`\\n    UserName   string  `faker:\\\"username\\\"`\\n    IPV4       string  `faker:\\\"ipv4\\\"`\\n    DomainName string  `faker:\\\"domain_name\\\"`\\n    Latitude   float32 `faker:\\\"lat\\\"`\\n    Longitude  float32 `faker:\\\"long\\\"`\\n    Phone      string  `faker:\\\"phone_number\\\"`\\n}\\n\")), mdx(\"p\", null, \"importamos el paquete de faker:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"\\\"github.com/bxcodec/faker/v3\\\"\\n\")), mdx(\"p\", null, \"y ahora el endpoint que retorna el listado de usuarios (antes de declarar la variable port):\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"app.Get(\\\"/users\\\", func(c *fiber.Ctx) error {\\n  var users []User\\n  err := faker.FakeData(&users)\\n  if err != nil {\\n    return err\\n  }\\n  return c.JSON(users)\\n})\\n\")), mdx(\"p\", null, \"Corremos nuevamente el proyecto y vemos que nos devuelve un listado de usuarios aleatorios (la cantidad de usuarios varia en cada solicitud que enviamos).\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"67.5%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABdElEQVQ4y52TTXLcIBCFdZJI9B8CJE1GjO0s7KrcwmtfwQfLQXKpl6JHmtiTSSr24ivRCF6/bqCbpgmlFKzrirVW1Fo9zjn/QUrJ+T1XkIwwPz3j8fUnji8/0MUYkXJGKRmn4wGlJJgZYmxEqKrHDSJyQgjOeTwgsCEev0OWJ3R7ZmYGhwEUAoZhgIi4SBvvAmH75yZS8rglbGZSFJgQurbxelOjJWiLr+cbtrnf15lFqEWIKLq+713wLbuTW+6cfmMb9/0Xp8VdGkfPsGd92yu6Etv7KaZQU4gqxARsI3Q8gFjRnU4n74efbMn+PZ/miKj6zvEl0RWBGGojuJWsKiBir/9S1o2+vSv5Jj2YCR1RgMYRh7tvmHLCnOKl1L8J/wsXtDFhqff4OmXUuSCqfFjoIshE7vD48Ih5mVHXBSp88yr9l6AIQ9Tcpan4C/msu7NDZj/+NC1+LYTp0+42QXJ3reS6TLg7TN7D1tth+JhYu0K/ALeFjuP8uMWzAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Imagen de prueba de listado de usuarios\",\n    \"title\": \"Imagen de prueba de listado de usuarios\",\n    \"src\": \"/static/2c17cf69a28d3a2fb43d75584efd87a3/7d769/test_endpoint_users.png\",\n    \"srcSet\": [\"/static/2c17cf69a28d3a2fb43d75584efd87a3/5243c/test_endpoint_users.png 240w\", \"/static/2c17cf69a28d3a2fb43d75584efd87a3/ab158/test_endpoint_users.png 480w\", \"/static/2c17cf69a28d3a2fb43d75584efd87a3/7d769/test_endpoint_users.png 960w\", \"/static/2c17cf69a28d3a2fb43d75584efd87a3/87339/test_endpoint_users.png 1440w\", \"/static/2c17cf69a28d3a2fb43d75584efd87a3/88b03/test_endpoint_users.png 1920w\", \"/static/2c17cf69a28d3a2fb43d75584efd87a3/18504/test_endpoint_users.png 2026w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \")), mdx(\"p\", null, \"Para a\\xF1adirle un poco mas de complejidad al momento de hacer las pruebas de carga, vamos a a\\xF1adir autenticaci\\xF3n a nuestra api, utilizaremos jwt para esto, instalaremos los siguientes paquetes:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"go get -u github.com/gofiber/jwt/v3\\ngo get -u github.com/golang-jwt/jwt/v4\\n\")), mdx(\"p\", null, \"y ahora en el archivo \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"main.go\"), \" importamos los paquetes instalados:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"jwtware \\\"github.com/gofiber/jwt/v3\\\"\\n\\\"github.com/golang-jwt/jwt/v4\\\"\\n\")), mdx(\"p\", null, \"A\\xF1adimos un endpoint (despu\\xE9s del primer endpoint que a\\xF1adimos \\\"/\\\") para autenticarnos y obtener un token, solamente validar\\xE1 el password recibido que sea igual a \\\"admin\\\" construir\\xE1 el token y lo retornar\\xE1:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"app.Post(\\\"/login\\\", func(c *fiber.Ctx) error {\\n  user := c.FormValue(\\\"user\\\")\\n  password := c.FormValue(\\\"password\\\")\\n\\n  if password != \\\"admin\\\" {\\n    return c.SendStatus(fiber.StatusUnauthorized)\\n  }\\n\\n  claims := jwt.MapClaims{\\n    \\\"name\\\":     user,\\n    \\\"password\\\": password,\\n  }\\n\\n  token := jwt.NewWithClaims(jwt.SigningMethodHS256, claims)\\n\\n  t, err := token.SignedString([]byte(\\\"TheBestSecret\\\"))\\n  if err != nil {\\n    return c.SendStatus(fiber.StatusInternalServerError)\\n  }\\n\\n  return c.JSON(fiber.Map{\\\"token\\\": t})\\n})\\n\")), mdx(\"p\", null, \"Seguido a este endpoint, le indicaremos a fiber que utilice un middleware para validar el token recibido, importante saber que todos los endpoints definidos antes de esto estar\\xE1n sin protecci\\xF3n, los definidos despu\\xE9s validaran que se reciba el token para poder retornar una respuesta (el secret debe ser el mismo).\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"app.Use(jwtware.New(jwtware.Config{\\n  SigningKey: []byte(\\\"TheBestSecret\\\"),\\n}))\\n\")), mdx(\"p\", null, \"Una vez agregado el endpoint y el middleware corremos nuevamente el proyecto e intentamos de nuevo obtener los usuarios (sin ning\\xFAn cambio a\\xFAn) y vemos que nos devuelve un error.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"36.66666666666667%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA7UlEQVQoz21RW27EIAzkIJUC2IZAII3SpnfpT0/VG/SgU9m77EZpP0YDlp8zrveOWitaa9j3He/HgW3bLLYsi3EpxXieZ+Scn7C/INdXHJ/f2L9+4FJKyCmh1IqcBL1kEEUQEZjZeLxjjPDeXxDg/QQ/vSAGDycitoEWhBAsabAO0/iIDWhsXVdorQ7TK1tf7Qp3bnAuUmiybjX+PvhHHkV61hkmBN2Q70V04fNZ581YGJQYxPRAVDmkIFKC+3jbzYQhvBqh76HtrfmpIf/TkBicF7DMcOrccLq3G6s2LALRyRddDZP/Y44aEmPALzJByMmECZeDAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Imagen de prueba de listado de usuarios sin token\",\n    \"title\": \"Imagen de prueba de listado de usuarios sin token\",\n    \"src\": \"/static/e1256a4e44771a7291c4355c31fe6422/7d769/error_token.png\",\n    \"srcSet\": [\"/static/e1256a4e44771a7291c4355c31fe6422/5243c/error_token.png 240w\", \"/static/e1256a4e44771a7291c4355c31fe6422/ab158/error_token.png 480w\", \"/static/e1256a4e44771a7291c4355c31fe6422/7d769/error_token.png 960w\", \"/static/e1256a4e44771a7291c4355c31fe6422/87339/error_token.png 1440w\", \"/static/e1256a4e44771a7291c4355c31fe6422/88b03/error_token.png 1920w\", \"/static/e1256a4e44771a7291c4355c31fe6422/636bd/error_token.png 2020w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \")), mdx(\"p\", null, \"Seguido haremos \\\"inicio de sesi\\xF3n\\\" y veremos que nos devuelve el token:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"41.25%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABJ0lEQVQoz3WR6W3DMAyFNUgBWwd12Uos2znQZJMCnasDdM9XkIqdFkh/fJAo8vGSmqYJOWeM44haK+ZlBr+lnOSdiTEipSSEEJ7EiBAIIR9x/vjC/PkN5b0Xpwg5KEWUIQs+BEkWRRhgjEHf9y/o0Hdv0LqH2ipLYk/YCvA5DMPuIyIRa62bbxzhnBNba4OcB5RSoG73O+o0oeu6P1XZ5oScfPM18T88/GqdZ8nMQkdOqm+VuSse87eQHIE4htyOJYILAywFqPNpbZ/Ao+e8jxljkhUYrZ/d9VoKWGvlNLahjQGFBEceyliLw7FgWSuupxnvl+XBitt1xWWtmKciLLXs92YfUMaEnDxScqhTgTKmLdl7Qoqhwb8b2t0TSXfS0Uu0wDG8qh+SlunkKso/qgAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Imagen de prueba de login\",\n    \"title\": \"Imagen de prueba de login\",\n    \"src\": \"/static/031f7ad0c8639aa46bcafcfaa2104cbc/7d769/test_login_endpoint.png\",\n    \"srcSet\": [\"/static/031f7ad0c8639aa46bcafcfaa2104cbc/5243c/test_login_endpoint.png 240w\", \"/static/031f7ad0c8639aa46bcafcfaa2104cbc/ab158/test_login_endpoint.png 480w\", \"/static/031f7ad0c8639aa46bcafcfaa2104cbc/7d769/test_login_endpoint.png 960w\", \"/static/031f7ad0c8639aa46bcafcfaa2104cbc/87339/test_login_endpoint.png 1440w\", \"/static/031f7ad0c8639aa46bcafcfaa2104cbc/88b03/test_login_endpoint.png 1920w\", \"/static/031f7ad0c8639aa46bcafcfaa2104cbc/c54f8/test_login_endpoint.png 2014w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \")), mdx(\"p\", null, \"Volvemos a testear el endpoint de usuarios enviando el token y veremos que nos devuelve el listado de usuarios:\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"66.66666666666666%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABlElEQVQ4y52Ta27cMAyEfZKsHqREibL8WKybnKVA79UD5JxTiN4uts2PpvnxgRZAjTgjeerzjKqKZV2xbhu2fceyLiiloNZqiIitByln5GcSIdUVt+8/sf94x0TMaEy4aoFqQRYBMSGlZEKD8T02j0pEH2AiePeCGAOmyAmdIg4KaKoQyYgxmtDvCVUVqhW5KFgaUpnBuVpfHIKcEEJECAFTrQWtr0bVjpQLmNlOds7BO2c1OIeNIm614tCTmyoOyVDv8OIu1judNhIoCSJncCp2svf+FPT+xDksFPE6K45W8a1Vq69aLDJPghAZ03HdsfSOUgSlilkrIvfAE2IID1HnvR0WYjgJAYEifCRwVhDLsFzRWkOMZ7hEbJbH5Mxkm54ndfcI/sZ7ZwNMZ6NDkoLaVyQa4XpcLpenZv9PnDvrZBa8R2kdy37D3gpWLaB7jv/LQ1C0YT3esPaGresHq58WHM9jiJrl1qE63p98SewhSBRBnMAp27SW3RfEHoLjEkRnbMcbrl0xV/njuXzuUpz9Kb8A7GV0/NqYxGwAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Imagen de prueba de listado de usuarios con token\",\n    \"title\": \"Imagen de prueba de listado de usuarios con token\",\n    \"src\": \"/static/e7bdd620cfdbc0f1d242ad2471e5a139/7d769/endpoint_users_with_token.png\",\n    \"srcSet\": [\"/static/e7bdd620cfdbc0f1d242ad2471e5a139/5243c/endpoint_users_with_token.png 240w\", \"/static/e7bdd620cfdbc0f1d242ad2471e5a139/ab158/endpoint_users_with_token.png 480w\", \"/static/e7bdd620cfdbc0f1d242ad2471e5a139/7d769/endpoint_users_with_token.png 960w\", \"/static/e7bdd620cfdbc0f1d242ad2471e5a139/87339/endpoint_users_with_token.png 1440w\", \"/static/e7bdd620cfdbc0f1d242ad2471e5a139/88b03/endpoint_users_with_token.png 1920w\", \"/static/e7bdd620cfdbc0f1d242ad2471e5a139/636bd/endpoint_users_with_token.png 2020w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \")), mdx(\"hr\", null), mdx(\"p\", null, \"Esto ser\\xEDa todo por la parte de Go para nuestra api, el archivo \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"main.go\"), \"quedar\\xEDa as\\xED:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-go\"\n  }, \"package main\\n\\nimport (\\n    \\\"os\\\"\\n\\n    \\\"github.com/bxcodec/faker/v3\\\"\\n    \\\"github.com/gofiber/fiber/v2\\\"\\n    jwtware \\\"github.com/gofiber/jwt/v3\\\"\\n    \\\"github.com/golang-jwt/jwt/v4\\\"\\n)\\n\\ntype User struct {\\n    Id         int\\n    FirstName  string  `faker:\\\"first_name\\\"`\\n    LastName   string  `faker:\\\"last_name\\\"`\\n    Email      string  `faker:\\\"email\\\"`\\n    UserName   string  `faker:\\\"username\\\"`\\n    IPV4       string  `faker:\\\"ipv4\\\"`\\n    DomainName string  `faker:\\\"domain_name\\\"`\\n    Latitude   float32 `faker:\\\"lat\\\"`\\n    Longitude  float32 `faker:\\\"long\\\"`\\n    Phone      string  `faker:\\\"phone_number\\\"`\\n}\\n\\nfunc main() {\\n    app := fiber.New()\\n\\n    app.Get(\\\"/\\\", func(c *fiber.Ctx) error {\\n        return c.SendString(\\\"Hello, World!\\\")\\n    })\\n\\n    app.Post(\\\"/login\\\", func(c *fiber.Ctx) error {\\n        user := c.FormValue(\\\"user\\\")\\n        password := c.FormValue(\\\"password\\\")\\n\\n        if password != \\\"admin\\\" {\\n            return c.SendStatus(fiber.StatusUnauthorized)\\n        }\\n\\n        claims := jwt.MapClaims{\\n            \\\"name\\\":     user,\\n            \\\"password\\\": password,\\n        }\\n\\n        token := jwt.NewWithClaims(jwt.SigningMethodHS256, claims)\\n\\n        t, err := token.SignedString([]byte(\\\"TheBestSecret\\\"))\\n        if err != nil {\\n            return c.SendStatus(fiber.StatusInternalServerError)\\n        }\\n\\n        return c.JSON(fiber.Map{\\\"token\\\": t})\\n    })\\n\\n    // Colocar antes de las rutas que se requieren proteger\\n\\n    app.Use(jwtware.New(jwtware.Config{\\n        SigningKey: []byte(\\\"TheBestSecret\\\"),\\n    }))\\n\\n    app.Get(\\\"/users\\\", func(c *fiber.Ctx) error {\\n        var users []User\\n        err := faker.FakeData(&users)\\n        if err != nil {\\n            return err\\n        }\\n        return c.JSON(users)\\n    })\\n\\n    port := os.Getenv(\\\"PORT\\\")\\n\\n    if port == \\\"\\\" {\\n        port = \\\"3000\\\"\\n    }\\n\\n    app.Listen(\\\":\\\" + port)\\n}\\n\")), mdx(\"hr\", null), mdx(\"p\", null, \"Solo para hacer el tutorial mas interesante (para m\\xED xD) publicaremos esta peque\\xF1a app de go en heroku, gracias al cli de heroku esto es un poco sencillo, lo primero es instalar el cli de heroku (\", mdx(\"a\", {\n    href: \"https://devcenter.heroku.com/articles/heroku-cli\",\n    target: \"_blank\"\n  }, \"Instrucciones de instalaci\\xF3n\"), \"), una vez instalado el cli, ejecutar el comando:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"heroku login\\n\")), mdx(\"p\", null, \"Esto abre un navegador y te permite ingresar a heroku\"), mdx(\"undefined\", null, mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"73.75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACgklEQVQ4y52QW08TURSF528JUUmQTlvKRSSUXqZgbaIQjRKkaKBY6GVmCghIpJQCPrZNEV/0D8CDJZFnUQggNAJtuRRaWkg7y5zToUAAH5jky96z9trrnBmGUzlxHSaVC5zSiSe1Ip7WD6BV+x6Pq3iq0dkNewxHh9djVDrR1erHsGMG/bYg2s1jMLAO/G+HMZLFGyCGDosX/qGvlJemURiV8mE3wBADReW+gkHpwtsWP9qaP2KgJ4R2sxd6lnzaVe9ZDmNQkkU3DKwL+gsQTVvuwJtnfow4Z9HfE8Jz/Qc0PnDQgy57C35CMZBTCzBpRJgqhSJcpQBzbT8sjwZhqRtEc5Xn0pyiEWFU8+eBepY0PCJzPxHbOsDGWgzRP3GZBDbX49hcj9F6pp3NiTcRS+Lb5wXU3bPDqBbA6Fg3bYjhts9iZBk1pe9gVItgdAoeBpWI1d9bdChJwHH6BImdQyT30thPpHCwm8Je/AiJ7STtiZ45PkU+L9GdyNwSakrthcBGOXBtZZsO87k8NZIqSRIkuSda8T1fqLlcnu4szC+hutROc2igjhUQ3UhgJ7oP94sAhqwzGLaGMdwRxmhnGD7bF0zYZjFmDcFrDcHXGYLvdQDTXWHkMqf48X0ZVSUk0ANGqxDQyIr4G91FdDWOtvpxdDdNo5ubgo2bhL1pCiPtQYy0BeA0+eEyTYBvmgDPjWPQMonTVBaLkRVo7tihp4EVAnRKD9ZWduj100dZZNIn56ROkE5mkD7MFLWsXI9T2cI/nP8FTUmvHKgQ0VAhwtryCX3WIPo6AoV6AUdn8IpG6JW9r8x+1JfzIFkMCWtQiKi970L1XeeteFjmhlbhoRf7Bw69MFX2QwjPAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Imagen heroku login navegador\",\n    \"title\": \"Imagen heroku login navegador\",\n    \"src\": \"/static/b55512f4eb78a2d242d212347d0b315d/7d769/heroku_login_navigator.png\",\n    \"srcSet\": [\"/static/b55512f4eb78a2d242d212347d0b315d/5243c/heroku_login_navigator.png 240w\", \"/static/b55512f4eb78a2d242d212347d0b315d/ab158/heroku_login_navigator.png 480w\", \"/static/b55512f4eb78a2d242d212347d0b315d/7d769/heroku_login_navigator.png 960w\", \"/static/b55512f4eb78a2d242d212347d0b315d/f1720/heroku_login_navigator.png 1024w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"24.166666666666664%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA8klEQVQY05WPwUrDQBRF38xkJhnbKtZqAkm1tCYkZJJFbNGFbvwBNy5FEHTh/3/AkaZgt7o4cB/38ThP/OIDv3jnJP0mOX/B+Rzjck7zJbMsQ2uNMYYoikaU0r9ZRNBaxl4pNc4y3N1Tlg273QObTUnT1LRtSxsCXd8TQqCua7bbLX3fU1UVwzCMuWlKQqjpusNeURTIen3DdOIxRkicI9IWIwYlCiUarY52e1tr7cjeyjmHtW7s4jjGe488Pj1zW7ZcZUtW3YaizUhSw+w6IZlHxBeH1/7MJP0knr+RXH5xVryyrlaIFdw0QluFdupfB38ArAN3oNl3E2IAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Imagen heroku login consola\",\n    \"title\": \"Imagen heroku login consola\",\n    \"src\": \"/static/1b7b21190daaa7b8bba1a510245d425b/7d769/heroku_login_shell.png\",\n    \"srcSet\": [\"/static/1b7b21190daaa7b8bba1a510245d425b/5243c/heroku_login_shell.png 240w\", \"/static/1b7b21190daaa7b8bba1a510245d425b/ab158/heroku_login_shell.png 480w\", \"/static/1b7b21190daaa7b8bba1a510245d425b/7d769/heroku_login_shell.png 960w\", \"/static/1b7b21190daaa7b8bba1a510245d425b/62e60/heroku_login_shell.png 998w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \")), mdx(\"p\", null, \"Luego ejecutar el comando:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"heroku create load-test-api-jp\\n\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"El nombre de la aplicaci\\xF3n puede no estar disponible, pueden intentar con otro nombre\")), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"8.333333333333332%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAd0lEQVQI133HMQ6CMBhA4ZpAlTZIBeRvaVIbqQmrg4vX8AZO3v8Cz4Q4O7x8eWpIb7rwwfkXti207kZ/WejmSFxXzCTYEDAi7KoKpdT/puXB6fpEyh0pBRcTbk70OTPmjD46DlZjfEUz1Bi/x4imOetNG34/1ptfa7YwRE5xOCgAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Imagen heroku crear app\",\n    \"title\": \"Imagen heroku crear app\",\n    \"src\": \"/static/527f5d2a4ee020b4bf0fb0d8df8a4b5e/7d769/result_heroku_create.png\",\n    \"srcSet\": [\"/static/527f5d2a4ee020b4bf0fb0d8df8a4b5e/5243c/result_heroku_create.png 240w\", \"/static/527f5d2a4ee020b4bf0fb0d8df8a4b5e/ab158/result_heroku_create.png 480w\", \"/static/527f5d2a4ee020b4bf0fb0d8df8a4b5e/7d769/result_heroku_create.png 960w\", \"/static/527f5d2a4ee020b4bf0fb0d8df8a4b5e/16398/result_heroku_create.png 1224w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(\"p\", null, \"Antes de hacer deploy en el archivo go.mod le especificaremos a heroku que versi\\xF3n de go va a utilizar para evitar errores al desplegar, en el archivo go.mod al final a\\xF1adimos \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"// +heroku goVersion go1.18\"), \", quedar\\xEDa as\\xED:\"), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"678px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"135.41666666666666%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEgklEQVRIx51V2XLbRhDkV9gicYO4AeK+CYI3ReqwJUuyZcl2HMlxnP//gE7tgBJlp1KVykNjZ3aA3p7dwWxvN4nQZjpGzisk/hEsYwDb0qDrxv9Cr81drGoXtq0gGGkYqgJkWYIsK1AUlaDSePB/haoOn9HLIwvnsxSG5SEMI+i6DlEQnglkRYEky1DVzn4JFmcxXhDA8Tyhxx4Djocg8JAkCXFWIEoLhHGKPE0IaRQiSxKkcYQy6+byJEaVZ6jzDIY2hDFUCT1BEGh1yzQgqTpG80t47Tn0sMI09rAuYpzUKZpohGUeElZFhFUe4XScYlPEWOYRzpscuzrtCFl6tm2D5zgIgz54Jp/jKRUWp1EUn+2X4Pif/WdCplDWLDjlCoGlY10mcA2NPpAkEaL43/BCoQVBUiAbHhRJhKUNIYkiOI4j5Z1qrvN5/l9BhOwwWJkwAlNTYegaVFWBrmu0FY5j0+kzm8GyLALZpgn7ybbtjlCWZQyHrAQUxPUUUTWFHebIihJxHMN1PRiGCW80Ili0iAvHdWE7Ds2NWMx1nlJWu0MRJdjlGlF7grBaYOSHVApDWYKuKjCYakUmW1Pkzt/brHZ5WTvsoeM4GAwG8HUJH+cZbucZzuoYp+MEH1djfFhWuF83uF3V+LCs8X5REa7mJW6XFeokhNvsnghlGKYJSeCwTC087Go8bGt8XKS4W6R42Fb4sinwdVPgcVvhdpHgcVfh8yrH3TLFeROimkzRLjaHwmZ7IgocVqmJ76djwv0yI3w/GePbrsYf+/HLOqc5Rvq4LXE1CVA2LSbt9HAobKMZ4SI2SNHvxyVu5wmB+V+PS/y2KQg3s5j8+1WGd22IyXSG8aTFZL5Ej9WOaRh0Yoxwk5n483SMH2cNPq8yUvPXWUNzTNG3XUWp/zgbU/p3ywwnbY52XKKpMvRYofq+D98PwHEDlCMDn9Y17lYlLtsEb5oY96sKnzc1buY54Xqa4f08x4dFgetZjqsmQB6HVHKksCteB0f9ARxDx+W0xLtZhXUZY1ulZJ+MM1y0Jd4vxriYljiuEtwsalzPaxrHkQ8znXYKXdelwmSEnqnTC1ezCtsqwaaMaYGzJsPbtsCbSb5fsKSRvce6zuWsxPWs/Ceha3YKL6YFKWRKGBFrYWdN/tymzic5gcWqKICetHCLxc8p9wcDeJZOaTAwMvYxU8GUXZCiEhdNghu2d21G+/m2CqC5EVQn7BR6nocg8PH6qA9H1yhlppKlzEifUr5sC7RZgqI9Rj1Zom4WaFZvMNlew5+9peb8k0JRkhB4DqaJjzYJ0CY+6tDDPAtR+C4WWQDLtCA6MSTTg2h4kN0Y6iiHHhTQRslBIQP7Y0zTxKvXfRwNOPT3eLKP+l0/ZF1d4AYEntmDI/CEfkfI1LGDYTbrzooqP4OuVEWGMpTpn2c2u+nY3yXtYywzaY9ev99HlmWoqgqiLMCNLNihgajxEE08uLFJdjzxEFQO2U5kdrHEwii3IfDCgfCpYzPQvfDi/mBqKSZLB1+W9h1+P//LffM3yiE/9Mmuaq0AAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Imagen go.mod\",\n    \"title\": \"Imagen go.mod\",\n    \"src\": \"/static/d95d25234a6bced023d24163e59f1bac/34428/go_mod_file.png\",\n    \"srcSet\": [\"/static/d95d25234a6bced023d24163e59f1bac/5243c/go_mod_file.png 240w\", \"/static/d95d25234a6bced023d24163e59f1bac/ab158/go_mod_file.png 480w\", \"/static/d95d25234a6bced023d24163e59f1bac/34428/go_mod_file.png 678w\"],\n    \"sizes\": \"(max-width: 678px) 100vw, 678px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(\"p\", null, \"Y ahora solo para poder hacer deploy a heroku, iniciaremos un proyecto de git\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"git init\\nheroku git:remote -a load-test-api-jp\\ngit add .\\ngit commit -m \\\"Make it better :fire:\\\"\\ngit push heroku master\\n\")), mdx(\"p\", null, \"Esto iniciar\\xE1 el deploy y al final nos mostrar\\xE1 la url de nuestra aplicaci\\xF3n ya desplegada\"), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"47.5%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABYElEQVQoz5WSy27bMBREKVKKJOpJSqKe9UNxhDRJ23iTHymKAv3//ziF6XbjVbwYDLk5d4aXwjlH61rmw8SyLuy3HY8vK2VTIMMAIcR90jrzh8ylFFNG/9owvLWUU442CSqSXiL4JDBNU58kazT1XOK2hunNYfYV2qbknfb+6YR5liOUwK4VzanGvTS4r5bpvffQ9tHQPVm6zdKs5nrfLO3J4p4b2pPxQ3OXXZtcgIlO+PK0MB9H5nViOozY0ZDWia99SZiUMXHx4D2tYu//JUOJVMH1WbTWxHHM0A+4rscaS1XW6DRDBer+pdR1jbWG8/nMbr+7H3CrKIoJw4jjemQYe/I8J8syqqrCGENZllyGFkVBWde0SYwLJZWSGCV5uN3+YT+wTB1jO+NMzzwtGHMF+B8gJUop1D8Pg4BICJQQhEIQ3CZc1t8cvv3i+88TH39eef6x0diWJIk94N7KfwGDed+jBO4aoAAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Imagen heroku deploy\",\n    \"title\": \"Imagen heroku deploy\",\n    \"src\": \"/static/7cba8674ec6a11076f25124acb9c101c/7d769/result_heroku_deploy.png\",\n    \"srcSet\": [\"/static/7cba8674ec6a11076f25124acb9c101c/5243c/result_heroku_deploy.png 240w\", \"/static/7cba8674ec6a11076f25124acb9c101c/ab158/result_heroku_deploy.png 480w\", \"/static/7cba8674ec6a11076f25124acb9c101c/7d769/result_heroku_deploy.png 960w\", \"/static/7cba8674ec6a11076f25124acb9c101c/87339/result_heroku_deploy.png 1440w\", \"/static/7cba8674ec6a11076f25124acb9c101c/13e26/result_heroku_deploy.png 1630w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(\"p\", null, \"si abrimos en el navegador nos mostrar\\xE1 el resultado que configuramos para el endpoint ra\\xEDz\"), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"932px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"26.666666666666668%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAtklEQVQY063Lyw7BUBCA4fMAtHV0gaSqVdQCIS6pS0Ks3IJWlWfxKKy95i+KRGxEYvHlz0xmxKXhcqmVOTcqXL0mp8GI6WRGuArYrQKCpc9+HRIsfKJ1yNE/EG32+PMt/ZZHu9amW+/QeRJjt8zQsRkULcaVEj3bws1bVE37K9d83MZ9EoZdJFcokDEM8o6Dns2SUJIkVYXEm8/5tfskUpqGpqrcqypK3LSUSCnj/krouh4//8sN8ciKNPwL1+MAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Imagen heroku url\",\n    \"title\": \"Imagen heroku url\",\n    \"src\": \"/static/8944ce0e71d20743ba7a40f86ddea0bb/9ef50/heroku_app_navegador.png\",\n    \"srcSet\": [\"/static/8944ce0e71d20743ba7a40f86ddea0bb/5243c/heroku_app_navegador.png 240w\", \"/static/8944ce0e71d20743ba7a40f86ddea0bb/ab158/heroku_app_navegador.png 480w\", \"/static/8944ce0e71d20743ba7a40f86ddea0bb/9ef50/heroku_app_navegador.png 932w\"],\n    \"sizes\": \"(max-width: 932px) 100vw, 932px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(\"p\", null, \"Listo, una vez desplegada la aplicaci\\xF3n empezamos con la parte de las pruebas por medio de k6, pero empecemos definiendo primero que es, \", mdx(\"a\", {\n    href: \"https://k6.io/docs/es/#:~:text=%C2%BFQu%C3%A9%20es%20k6%3F,regresiones%20y%20errores%20m%C3%A1s%20tempranamente.\",\n    target: \"_blank\"\n  }, \"la p\\xE1gina oficial de k6 lo define as\\xED\"), \":\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Grafana k6 es una herramienta de pruebas de carga de c\\xF3digo libre que hace f\\xE1cil a equipos de software testear el rendimiento de sus aplicaciones.\\nCon k6, puedes testear la fiabilidad y rendimiento de aplicaciones e identificar regresiones y errores m\\xE1s tempranamente. k6 te ayudar\\xE1 a construir aplicaciones r\\xE1pidas y robustas que puedan escalar.\")), mdx(\"p\", null, \"Lo primero ser\\xE1 instalar el cli k6, podemos ver \", mdx(\"a\", {\n    href: \"https://k6.io/docs/es/empezando/instalacion/\",\n    target: \"_blank\"\n  }, \"aqu\\xED las instrucciones de instalaci\\xF3n\")), mdx(\"p\", null, \"Una vez instalado el cli, veremos la forma m\\xE1s r\\xE1pida de ejecutar una prueba r\\xE1pida de k6 utilizando un paquete de npm llamado \", mdx(\"a\", {\n    href: \"https://www.npmjs.com/package/@apideck/postman-to-k6\",\n    target: \"_blank\"\n  }, \"postman-to-k6\"), \" este convierte una colecci\\xF3n existente de postman a un script de k6 para correrlo como prueba de carga, lo primero ser\\xE1 abrir postman, crear una colecci\\xF3n nueva y configurar un llamado a nuestro endpoint de la api anteriormente construida\"), mdx(\"p\", null, \"Nos logeamos y copiamos el token de respuesta\"), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"34.583333333333336%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABFklEQVQoz1WRXU7EMAyEew6QaGo7P07Sbmn7hBCnQOytuPIge7fAPoycOPHniTMs84zWGlJKKKUg5+xRVSEiEImIMfqaiMDMLttbrLVBNSMvb1g/vjBcLjOO44BqdUhrHb13zPOM123Dtm/Yjx3LsqDWitqqNzQD1iimDKEXtPcrLp/fGLTeQH54V8nJnVqRluyy/ZmbpgkhhF/XIUyYxmdIeMJwQs6OrXes64pxHL1oHIMXmDt7ouUMaKD/OWZBUcVgoFPW0WZ6HLu7ife8FbkzIoeZrDlHAQtDLMYCkvwItEv2fJvXbZ4VvVVUVWhOYKLbxxBBzs9h9txE7PN8AJroXuTw9KeaE1IURGEkYY+nyGc6OvwHjODLP7UiUCYAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Imagen postman login\",\n    \"title\": \"Imagen postman login\",\n    \"src\": \"/static/f23b544435d507462921645483fdc9be/7d769/postman_collection_k6.png\",\n    \"srcSet\": [\"/static/f23b544435d507462921645483fdc9be/5243c/postman_collection_k6.png 240w\", \"/static/f23b544435d507462921645483fdc9be/ab158/postman_collection_k6.png 480w\", \"/static/f23b544435d507462921645483fdc9be/7d769/postman_collection_k6.png 960w\", \"/static/f23b544435d507462921645483fdc9be/87339/postman_collection_k6.png 1440w\", \"/static/f23b544435d507462921645483fdc9be/88b03/postman_collection_k6.png 1920w\", \"/static/f23b544435d507462921645483fdc9be/88eec/postman_collection_k6.png 2618w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(\"p\", null, \"Hacemos una petici\\xF3n de usuarios enviando el token anterior\"), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"39.166666666666664%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABGUlEQVQoz42R2W3DQAxEVUgA70FyuYdkK/ZHCkgJKSLFpOcJSB1w4J98PBDcpWZGy+n+uGNdV9Rand47amsY84zlumBZNuy8lIKiZatFNlQhFLF8fuP29YNpjOFCRbZBEYGK4DoaWm9QVb9vrfm9VoVIQc6ETIScM3JK4LqA5w9MzIxnNvfiAmPM/oGa0C5cVaG1o/YFtc9niJwCwuUNkzUHJugJ20CpA1waiAUpJVxCQAjRq82ZoWFPwSwIISDG+CrYqv2aQszZUEUmBhEjZXLMhKWARE5YB6j0V8F5DF/CuYB9CcLkKY4kljomq3Hrc3bTP4KGD8YIqc172vtD6CDsT+DnR43hVZCIkGLEWB94v91w7Xqa/IdfHITnedQqD6YAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Imagen postman get users\",\n    \"title\": \"Imagen postman get users\",\n    \"src\": \"/static/7096be294d6e6c8bec9d57c2f1b76bdb/7d769/postman_users_get.png\",\n    \"srcSet\": [\"/static/7096be294d6e6c8bec9d57c2f1b76bdb/5243c/postman_users_get.png 240w\", \"/static/7096be294d6e6c8bec9d57c2f1b76bdb/ab158/postman_users_get.png 480w\", \"/static/7096be294d6e6c8bec9d57c2f1b76bdb/7d769/postman_users_get.png 960w\", \"/static/7096be294d6e6c8bec9d57c2f1b76bdb/87339/postman_users_get.png 1440w\", \"/static/7096be294d6e6c8bec9d57c2f1b76bdb/88b03/postman_users_get.png 1920w\", \"/static/7096be294d6e6c8bec9d57c2f1b76bdb/8ef1b/postman_users_get.png 2616w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(\"p\", null, \"Le a\\xF1ad\\xED un test al endpoint para ver si respondi\\xF3 status 200 y si recibi\\xF3 data\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"pm.test(\\\"Status code is 200, and have data\\\", function () {\\n    pm.response.to.have.status(200);\\n    pm.expect(pm.response.json().length).to.gt(0)\\n});\\n\")), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"33.75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABHUlEQVQoz32Q4VLDIBCEeZJwCYFAmkAI1JB2qra1+v5PtA7EqqOOP765ZVmOA9b3PZRS6LoOWe92u1/cfWNMyf0HCyFAa10OxBixriuWZUFKC9Y1lXVKqeC9L03zBblu2nx6GZa7Nk0D3WlI1YELghBt0RURRCPAqUbbypLJeSEEnBshtYRS22ScE4gITEoJ5x2mMGN5mDCHAbMfEOMAP/eIwSHMAyZnMFiL0Xu4yeIQLYZeQWsFY/KXyQJr2xb7vcf5esTtLeFyOeL19ozrywGns8X56RHXywlpmZBWjzlMcK7HaA3GUcOOZsNusDx+pzU45+BUldHrugZRDU5U/Kyzl8n7VcW3PKeP+gXL776H72zed59QE+Gv7E/eAe92zykS+zS1AAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Imagen postman get users test\",\n    \"title\": \"Imagen postman get users test\",\n    \"src\": \"/static/cb98d6db37ce4b17b0999c06fcf65fd9/7d769/postman_users_get_test.png\",\n    \"srcSet\": [\"/static/cb98d6db37ce4b17b0999c06fcf65fd9/5243c/postman_users_get_test.png 240w\", \"/static/cb98d6db37ce4b17b0999c06fcf65fd9/ab158/postman_users_get_test.png 480w\", \"/static/cb98d6db37ce4b17b0999c06fcf65fd9/7d769/postman_users_get_test.png 960w\", \"/static/cb98d6db37ce4b17b0999c06fcf65fd9/da1d8/postman_users_get_test.png 1308w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(\"p\", null, \"Exportamos la colecci\\xF3n\"), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"614px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"218.75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAsCAYAAABloJjNAAAACXBIWXMAABYlAAAWJQFJUiTwAAADbElEQVRIx6WW7XLaPBCFuZMWbBmMPzEYQyBAQkKTwLTTTqbzvvd/IafzaCLGpRiH5MdBYiWvjlZ7Vurkea4kSTQej3Vzc6OyLFVVlZy9DaPRyM7NskxRFKmDASf39/fa7/d6fnrW/rDXbDZTmqZ2chMYX61Wms/nlgz/O+4j2jRPNZoVmlUzDYdDBUEgY4z6/f5ZDAYDOwfwPwxDdaAN3SROFKWx0jLTYrGwg6wOaxbzPO+4QB3O5px2+GHvbHu73Wp7v7UxxAEMYMocx+QS+KZDhw9hQRyIB84ZJK4swi7c1t/lkMm+76vX6x2BDeYsRL/b7Vo781odnsItcHt7a9kS07u7O/ufA2xy2uiQD4BLj8lkoul0ap3D2h3C1Q6JKc7YLpPBh7bsHMIIhsSuzdm7YlgUhXUKS1IJeTZt910OccK2AYeCHD91yigIrQP6n9oygzBbr9cWJLmzfyht+NiVKHSNSlypwvahLW82Gz08PGi5XFpJPj4+2liS6CxwekCtDEli2KF116dYuPGr85C4wRBGsKNPsTjHzsX3IkOY1etevfY1HWRrcaDA7nY7GzsYsu0PabmJ2an9qhiSzMgOCQLSBvlhO8e0laGr0O5SOu1fzRBWsHESpE/bdDitDOtX5Kdi6FKAU0Yt9TwE7p65esuoA92iDvsQeANjVPGrGcIMlq5F0/RRC9q+2mEcx8dnCpXbXVS02OsiaJWeu6QcOBh3N7s7xsmTLLjM8M1h/fq0DyNysz73LVfjKLL2iww9Y5ShjLK0yIvC2nzGTWBb/gf9gYZxbP/3LjmMjK/1tNS39Vq71a02s0qJ8ZX1A6VBoCygNRqFA1VZau3mnMNeEGhsPP2fhPo9r/TffKrXSaF9HOpHnuhHVkOe6HsW65BGes1jvfT9fx12g0CV8fSSDG0S/zrstVncaJwmKtJEZZ6pzPO/MMlzLUa5DuccGqTm+3rs+3otMv3MYotfeaLf5UiHaKCX0GgfBke8hIEOYaDCb4qhMfrieVptt7rb7bR9elK1XNo2iCJ9QSkm0FcLc0T30qGQEqSPBQ8l8g+5vaVOHQNKGt+95zlHDlJMXdU5VRQ298Bvv6R46duCevlycgu1OlyVYz0v56pG+cVXFztBSa3Fwfe9owzdg7MNnaZVT524uJ6DG4fIH+lfHsQs9G5NAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Imagen postman export\",\n    \"title\": \"Imagen postman export\",\n    \"src\": \"/static/3de3d2867e7dd80475c91c7658d8a2ce/328b5/export_postman_collection.png\",\n    \"srcSet\": [\"/static/3de3d2867e7dd80475c91c7658d8a2ce/5243c/export_postman_collection.png 240w\", \"/static/3de3d2867e7dd80475c91c7658d8a2ce/ab158/export_postman_collection.png 480w\", \"/static/3de3d2867e7dd80475c91c7658d8a2ce/328b5/export_postman_collection.png 614w\"],\n    \"sizes\": \"(max-width: 614px) 100vw, 614px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(\"p\", null, \"Desde una consola nos situamos en el directorio donde exportamos la colecci\\xF3n e instalamos globalmente el paquete de npm postman-to-k6\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"npm i -g @apideck/postman-to-k6\\n\")), mdx(\"p\", null, \"y ejecutamos el comando\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"postman-to-k6 k6Tutorial.postman_collection.json -o k6-script.js\\n\")), mdx(\"p\", null, \"Esto tendr\\xE1 como resultado un archivo javascript y un folder \\\"libs\\\" donde hay una serie de archivos que utilizar\\xE1 k6 para ejecutar la prueba de carga sobre nuestra colecci\\xF3n\"), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"14.583333333333334%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAArElEQVQI11WHy07CUBQAzzn3gbe5rd6mpVAiUTBxzWeYwM6Nv2BIQGL8/TElLHQxmRmZP3/SPx2Zb44M2y+GzZnFyzcP3Q5VRcRQ57HgMf/X4drqHHp7NUPK44l2faFZncjLC3l5Jo8/xLzDQouGjllZUA0jqZ+8InXDtSf7qiI2DbNS8CkhZXynX3+Q2j2W33AT9YG2f8VCxKWCxRqL91hobtSI3qGaEJF//AIkqEnwK43ZeAAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Imagen postman to k6\",\n    \"title\": \"Imagen postman to k6\",\n    \"src\": \"/static/d8ba95a894c6b0bc2b343b1848493e3e/7d769/result_postman_to_k6.png\",\n    \"srcSet\": [\"/static/d8ba95a894c6b0bc2b343b1848493e3e/5243c/result_postman_to_k6.png 240w\", \"/static/d8ba95a894c6b0bc2b343b1848493e3e/ab158/result_postman_to_k6.png 480w\", \"/static/d8ba95a894c6b0bc2b343b1848493e3e/7d769/result_postman_to_k6.png 960w\", \"/static/d8ba95a894c6b0bc2b343b1848493e3e/4f7ef/result_postman_to_k6.png 1404w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(\"p\", null, \"Por ultimo ejecutamos la prueba usando el cli de k6 con el siguiente comando\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"k6 run --vus 200 --duration 30s k6-script.js\\n\")), mdx(\"p\", null, \"Este comando ejecutar\\xE1 una prueba de carga con 200 usuarios virtuales con una duraci\\xF3n de 30 segundos (siempre se ejecuta durante unos segundos mas, mientras configura la ejecuci\\xF3n de la prueba), y nos mostrar\\xE1 el resultado de la prueba\"), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"77.91666666666667%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACP0lEQVQ4y52U246jOBiEicGADbY5mUATQtI5Tma65xlmtbtaaaV9/7f5VhB191UfNBelwhcU5f+zCSL7F9L+TVz+S1z9R5Q/EemU2DqSoiCt6sWV96R1TSAEQRC8r0gJRBQw+yIdE6xWH7/0cWBGmChkZpC5XZpFWr+Fzv6irwRO04RpW6RzrKLo95u9aDdNOO9RdYOaZ+UcqbUkxr6uZ5dZRqQUsTHL87uNQyGwzuHKkqIsqZqGoqowzlE1nrKuKWYwWiOiCCHl4u82bLuOpvXU3tOuuyXUty1t29I0DX3f45sGay1aqc+37GRIk0jaNKZJY4okpoglMhREYYiUcvHVV6E0zmJjSSZWKLEiCgJkkhAqTRCGb6S/CuXb7cbpfFnm9jKbvKqpzxfsZkQZgxACbcwSrPN8gZPnOUmWobVGueJ+1ObA/X7P7XbjcrlQOEcYhlRlyXD7TjkM9I+PWO/ZHI9IrRkfD5jtxOF0wu8fmfZ7+us3kqp+O4fPz89cr1eKoiBJEsqmobteUVmOnyZs19OOI3oGNwwo3y6wqnFLvxkpH4a3K3k4HJZ2x+NxoTpvbw7ur1eq7Zb1boc2luF4Is4Nw36PXndMux31dstmHFmfz0R5fg+83X7w9PSTYRjJMoNYCcq5yemM8Z714YDxLX7YkBYFvu9J64au63Drjna9pnh4QMTJPXB4qHE2JRQBQtxJzbcktneFSiHznNVnf5kXGf8Psf2FNH8Q5n/iqieSNCIQ4Sv1169/Qf8DWv5nri/jM4oAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Imagen k6 run\",\n    \"title\": \"Imagen k6 run\",\n    \"src\": \"/static/e3fa4dd3d0785ab438215f7c8efc6a44/7d769/k6_run_postman_collection.png\",\n    \"srcSet\": [\"/static/e3fa4dd3d0785ab438215f7c8efc6a44/5243c/k6_run_postman_collection.png 240w\", \"/static/e3fa4dd3d0785ab438215f7c8efc6a44/ab158/k6_run_postman_collection.png 480w\", \"/static/e3fa4dd3d0785ab438215f7c8efc6a44/7d769/k6_run_postman_collection.png 960w\", \"/static/e3fa4dd3d0785ab438215f7c8efc6a44/87339/k6_run_postman_collection.png 1440w\", \"/static/e3fa4dd3d0785ab438215f7c8efc6a44/b1797/k6_run_postman_collection.png 1704w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(\"p\", null, \"En la salida podemos ver los resultados de la prueba ejecutada e incluso del test que definimos en postman, explicar\\xE9 lo que entiendo de los mas relevantes del listado\"), mdx(\"p\", null, \"Las letras en rojo son el resultado del test que definimos en postman para cada petici\\xF3n, para este caso 24 de las peticiones trajeron 0 usuarios (no fallaron, solo no trajeron usuarios) y en el test preguntamos si la longitud del array de respuesta era mayor a 0, por eso salen 24 test fallidos.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"http_req_duration..............: avg=2.28s    min=85.7ms  med=1.44s    max=44.57s   p(90)=4.48s p(95)=7.28s\")), mdx(\"p\", null, \"En este resultado podemos observar el promedio del tiempo de respuesta por petici\\xF3n, tiempo m\\xEDnimo, medio y m\\xE1ximo y los porcentajes de los tiempos de respuesta de los 90%, 95%\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"http_req_failed................: 0.00%  \\u2713 0         \\u2717 2712\")), mdx(\"p\", null, \"Este resultado puede ser un poco confuso (para m\\xED) podr\\xEDamos entender de las peticiones todas fallaron, pero las que salen con \\u2713 son las que fallaron y las que salen con \\u2717 son las que no fallaron, en este caso son 2712 peticiones exitosas, 0.00% de porcentaje de fallos\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"http_reqs......................: 2712   51.210708/s\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"iteration_duration.............: avg=2.41s    min=86.4ms  med=1.55s    max=44.58s   p(90)=4.8s  p(95)=7.37s\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"iterations.....................: 2712   51.210708/s\")), mdx(\"p\", null, \"Estas 3 nos dicen la cantidad de peticiones totales, el promedio de tiempo de respuesta por petici\\xF3n, el tiempo m\\xEDnimo, medio y m\\xE1ximo y los porcentajes de los tiempos de respuesta de los 90%, 95%, y la cantidad de peticiones por segundo que para este caso fueron 51.210708 peticiones por segundo.\"), mdx(\"p\", null, \"Esta fue una prueba sencilla y r\\xE1pida de ejecutar construida desde un test que definimos para una colecci\\xF3n en postman, pero vayamos a un escenario donde debemos construir los tokens desde una base de usuarios (json) obtener ese token y luego utilizarlo para realizar aparte la petici\\xF3n a nuestra api (incluso obtener mas datos del usuario), para esto construiremos ya un proyecto un poco mas estructurado como ejemplo.\"), mdx(\"p\", null, \"Lo siguiente que haremos es crear un proyecto de nodejs, ya que k6 aunque internamente funciona con Golang, la l\\xF3gica que escribimos para los test lo hacemos utilizando javascript (aunque typescript para este ejemplo), lo que para mi lo hace mas r\\xE1pido de aprender y su curva de aprendizaje es menor, entonces iniciamos el proyecto de nodejs e instalaremos algunas dependencias\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"npm init -y\\nnpm i k6\\nnpm i -D @babel/cli @babel/core @babel/node @babel/plugin-proposal-class-properties @babel/plugin-proposal-decorators @babel/plugin-proposal-object-rest-spread @babel/preset-env @babel/preset-typescript @types/k6 @types/node babel-loader terser-webpack-plugin webpack webpack-cli\\n\")), mdx(\"p\", null, \"Como anteriormente mencionamos este es un caso en el que necesitamos primero obtener los tokens de los usuarios de acuerdo a una base de usuarios (json) previamente definida y luego si utilizar estos para hacer la prueba, entonces lo que haremos ser\\xE1 construir dos archivos: uno para el test y otro para la base de usuarios.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"* src/seed.ts\\n* src/test.ts\\n\")), mdx(\"p\", null, \"Previo a escribir estos archivos configuramos 3 archivos necesarios para poder usar typescript:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text:title=.babelrc\"\n  }, \"{\\n  \\\"presets\\\": [\\n    [\\n      \\\"@babel/typescript\\\"\\n    ]\\n  ],\\n  \\\"plugins\\\": [\\n    \\\"@babel/proposal-object-rest-spread\\\",\\n    [\\n      \\\"@babel/plugin-proposal-decorators\\\",\\n      {\\n        \\\"legacy\\\": true\\n      }\\n    ],\\n    [\\n      \\\"@babel/plugin-proposal-class-properties\\\",\\n      {\\n        \\\"loose\\\": true\\n      }\\n    ]\\n  ]\\n}\\n\")), mdx(\"hr\", null), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json:title=tsconfig.json\"\n  }, \"{\\n  \\\"compilerOptions\\\": {\\n    \\\"experimentalDecorators\\\": true,\\n    // Target ECMAScript.\\n\\n    \\\"target\\\": \\\"ES6\\\",\\n    // Search under node_modules for non-relative imports.\\n\\n    \\\"moduleResolution\\\": \\\"node\\\",\\n    // Process & infer models from .js files.\\n\\n    \\\"allowJs\\\": true,\\n    // Don't emit; allow Babel to transform files.\\n\\n    \\\"noEmit\\\": true,\\n    // Enable strictest settings like strictNullChecks & noImplicitAny.\\n\\n    \\\"strict\\\": true,\\n    // Disallow features that require cross-file information for emit.\\n\\n    \\\"isolatedModules\\\": true,\\n    // Import non-ES modules as default imports.\\n\\n    \\\"esModuleInterop\\\": true,\\n    \\\"skipLibCheck\\\": true,\\n    \\\"noImplicitThis\\\": true,\\n    \\\"strictNullChecks\\\": true\\n  },\\n  \\\"include\\\": [\\n    \\\"src\\\"\\n  ]\\n}\\n\")), mdx(\"hr\", null), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript:title=webpack.config.js\"\n  }, \"const path = require('path');\\nconst TerserPlugin = require(\\\"terser-webpack-plugin\\\");\\n\\nmodule.exports = {\\n    resolve: {\\n        extensions: ['.ts', '.js'],\\n    },\\n    mode: 'production',\\n    entry: {\\n        seed: './src/seed.ts',\\n    },\\n    optimization: {\\n        minimize: true,\\n        minimizer: [new TerserPlugin()],\\n    },\\n    output: {\\n        path: path.resolve(__dirname, 'dist'),\\n        libraryTarget: 'commonjs',\\n        filename: '[name].js'\\n    },\\n    module: {\\n        rules: [\\n            {\\n                test: /\\\\.ts$/,\\n                // exclude: /node_modules/,\\n                loader: 'babel-loader',\\n                options: {\\n                    presets: [['@babel/typescript']],\\n                    plugins: [\\n                        '@babel/proposal-class-properties',\\n                        '@babel/proposal-object-rest-spread'\\n                    ]\\n                }\\n            }\\n        ]\\n    },\\n    stats: {\\n        colors: true\\n    },\\n    // target: 'web',\\n    externals: /k6(\\\\/.*)?/,\\n    devtool: 'source-map',\\n};\\n\")), mdx(\"hr\", null), mdx(\"p\", null, \"Teniendo estos tres archivos creados, procedemos a crear nuestro archivo json que usaremos como base para obtener los tokens (agregar\\xE9 en total 100 usuarios, pero lo simplificar\\xE9)\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json:title=data.json\"\n  }, \"[\\n  {\\n    \\\"user\\\": \\\"test1\\\"\\n  },\\n  ...\\n  {\\n    \\\"user\\\": \\\"test100\\\"\\n  }\\n]\\n\")), mdx(\"p\", null, \"En este punto vale la pena mencionar que k6 cuenta con una serie de \", mdx(\"a\", {\n    href: \"https://k6.io/docs/extensions/\",\n    target: \"_blank\"\n  }, \"extensiones\"), \" que nos ayudan en el desarrollo de nuestra prueba, como para nuestro caso necesitamos guardar un archivo con los tokens ya generados por cada usuario para posteriormente utilizarlo en el test, para este tutorial utilizaremos una \", mdx(\"a\", {\n    href: \"https://github.com/avitalique/xk6-file\",\n    target: \"_blank\"\n  }, \"extensi\\xF3n para escribir un archivo\"), \", muy parecido a lo que hace el paquete \\\"fs\\\" de node, para poder usar algunas extensiones de k6 necesitamos instalar un \", mdx(\"a\", {\n    href: \"https://github.com/grafana/xk6\"\n  }, \"builder de paquetes para k6 (xk6)\"), \" que nos ayudar\\xE1 con la extensi\\xF3n que necesitamos ahora, para instalarlo usaremos el comando:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"go install go.k6.io/xk6/cmd/xk6@latest\\n\")), mdx(\"p\", null, \"y luego para instalar la extensi\\xF3n\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"xk6 build v0.36.0 --with github.com/avitalique/xk6-file@latest\\n\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"En caso de error (como me sucedi\\xF3 a mi) \", mdx(\"a\", {\n    href: \"https://community.k6.io/t/unable-to-locate-xk6-after-installing-it/1866/3\",\n    target: \"_blank\"\n  }, \"esto me ayud\\xF3 a solucionar el error\"))), mdx(\"p\", null, \"Los anteriores comandos instalar\\xE1n la extensi\\xF3n file y construir\\xE1n un binario que ser\\xE1 el que usaremos para correr la prueba y usar la extension, una vez corrido los comandos dar\\xE1 una salida como esta\"), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"41.66666666666667%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABTUlEQVQoz2WR2W6DMBBFUVZIwhKWAIVQiLENGBrxJe3//8ytZiKo2j4czXgkH117rFp9oRSfKOoZtZK4C4G7lMibB5KiQJLniLMMrufhfD6vOI6Dy+XCvWVZPzw/OoxGwgwaQ99DkSxN4bku4ihifM/jyySxbXtlv9//lhFtK9H1A4Ro0XUdpFLQukNd14hI5vssooTH45ElxOFwwHa7/S/s+x7jOGIYBhhjwGdjWF6+t8juElFaIXl7wPVDOI69ikm6pN5sNi/hNE1QSkFKyVVrDSEEmqbhnmZVVfHsdrvher2yZElKchKvCed5XpOZJVlZIk1TZFnGEno2VRLtdjsWEEtSmi1zS2sJIRoI8eAUlJT+L89zFEXBcqpLT/M4jpEkCROGIZ9Pp9NrSUE8wY+fCKMSvu8iDCO4rsup6HkEXQqCgJdE2/71Z3/4BhhAxQi77pt5AAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"resultado xk6\",\n    \"title\": \"resultado xk6\",\n    \"src\": \"/static/710d71ef3d545074411290535c3c6b59/7d769/install_k6_file.png\",\n    \"srcSet\": [\"/static/710d71ef3d545074411290535c3c6b59/5243c/install_k6_file.png 240w\", \"/static/710d71ef3d545074411290535c3c6b59/ab158/install_k6_file.png 480w\", \"/static/710d71ef3d545074411290535c3c6b59/7d769/install_k6_file.png 960w\", \"/static/710d71ef3d545074411290535c3c6b59/87339/install_k6_file.png 1440w\", \"/static/710d71ef3d545074411290535c3c6b59/88b03/install_k6_file.png 1920w\", \"/static/710d71ef3d545074411290535c3c6b59/40737/install_k6_file.png 2216w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(\"p\", null, \"Luego nuestro archivo seed.ts importamos la extensi\\xF3n instalada, el paquete http que viene dentro de k6, declararemos una variable para el password que definimos, y recorreremos uno por uno los usuarios para obtener su token, lo guardamos en un array y al final esto lo guardamos en un nuevo archivo json, quedar\\xE1 con el siguiente contenido:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript:title=src/seed.ts\"\n  }, \"// @ts-ignore\\nimport file from 'k6/x/file';\\nimport http from \\\"k6/http\\\";\\n\\nconst DEFAULT_PASSWORD = \\\"admin\\\";\\n\\nconst data = require(\\\"../data.json\\\");\\nconst resultDataFile = \\\"resultData.json\\\";\\n\\nexport function setup() {\\n  const authData: any = [];\\n  data.forEach((userData: any) => {\\n    const { user } = userData;\\n    const resp = http.post(\\\"https://load-test-api-jp.herokuapp.com/login\\\", {\\n      user,\\n      password: DEFAULT_PASSWORD,\\n    });\\n    userData.token = (<any>resp.json()).token;\\n    authData.push(userData);\\n  });\\n  try {\\n    file.writeString(resultDataFile, JSON.stringify(authData));\\n  } catch (error) {\\n    console.error(error);\\n  }\\n}\\n\\nexport default () => {};\\n\")), mdx(\"p\", null, \"En nuestro package.json definiremos 3 scripts\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"\\\"scripts\\\": {\\n  \\\"seed\\\": \\\"npm run build && ./k6 run ./dist/seed.js\\\",\\n  \\\"test\\\": \\\"npm run build && ./k6 run ./dist/test.js\\\",\\n  \\\"build\\\": \\\"webpack\\\"\\n}\\n\")), mdx(\"p\", null, \"y corremos el proceso de seed con el comando\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"npm run seed\\n\")), mdx(\"p\", null, \"esto generar\\xE1 el archivo resultData.json con los tokens generados por cada usuario, adicionalmente podr\\xEDamos guardar cualquier otra info necesaria para posteriormente usarla en la prueba\"), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"68.75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACA0lEQVQ4y31T2XLbMAzUX7SxDh4SSV0kdViS09hJm7r5/z/aDijLcmbaPOyAgEhoiV1Gxih41yCXAkopCClxiBPESYo4Se5IkvSOLY/v+VpL0xSREBKCMbjjCa5tsdgKjVGodYFmg1EwRY5SraBvFCtVoKJcFaEmOaeGApILzOOAuXN4HRwug8NLb/E6Opx7G/LQpFib0HprVKm9lguOSEqJQuTQtYWiDypHlmWfkGYZGMvAGfsSLMsQcc5Dcj5fcFkmfCw9/iwD3qcOH6cB17nH77lHV5uAvjYYmjKsKW752JTQuUSU5zm0VMg5h+QZBGcrqzTdGaZpEOr7IcbTIf5nJJA4kdI6MJzOPzEfR/w6Oky2DljcHl2p0VXmE7P+gSlBbQwLUcDXFbq6hK/07WrrNdbDZVCQfkw3+B9ozpHWGlJI9MsLOu/w7Bu0pUZr1B221KuqelWz3Wx1i9u+oDIxzIXE6C1G22C2NU6+wXPXrvBrNIVEIUUY/CPUw5pYRsaYYBtje9A8rVFgNwuEyFbL0GZi8BVoJIEhHZ7nBW/LhOvcBdsQyC7vcxcs5CsThKFIgvibQPvMDZQUiOj9Kqkggm0YOGdI0jRYZX+zCZ7i3R7fDof7+rFG+4IoRHV+u2KZJlwnj5Nvg11ofotr8KNrg+JUm4ONGky2usU1p7nT0/wLPveVfZ7NVAoAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"resultado seed\",\n    \"title\": \"resultado seed\",\n    \"src\": \"/static/492963e5598e87eb1e8b37b7fb17fd6f/7d769/result_data_json.png\",\n    \"srcSet\": [\"/static/492963e5598e87eb1e8b37b7fb17fd6f/5243c/result_data_json.png 240w\", \"/static/492963e5598e87eb1e8b37b7fb17fd6f/ab158/result_data_json.png 480w\", \"/static/492963e5598e87eb1e8b37b7fb17fd6f/7d769/result_data_json.png 960w\", \"/static/492963e5598e87eb1e8b37b7fb17fd6f/87339/result_data_json.png 1440w\", \"/static/492963e5598e87eb1e8b37b7fb17fd6f/fe10e/result_data_json.png 1770w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(\"p\", null, \"Como resultado tendr\\xEDamos un archivo listo para ahora proceder a ejecutar nuestra prueba, por lo que procedemos ahora a crear un archivo para ejecutar el test.\"), mdx(\"p\", null, \"Los archivos para k6, como pudimos tal vez observar en el archivo seed.ts se componen de una funci\\xF3n setup que se ejecuta antes de nuestro test y una funci\\xF3n exportada por defecto que es la que en teor\\xEDa se encarga de ejecutar nuestras pruebas, pero adem\\xE1s de esto podemos definir ciertas opciones para ejecutar nuestra prueba con distintos escenarios, k6 cuenta con una serie de \\\"ejecutores\\\" (\", mdx(\"a\", {\n    href: \"https://k6.io/docs/es/usando-k6/escenarios/executors/\",\n    target: \"_blank\"\n  }, \"executors\"), \") que nos ayuda a definir estos escenarios y no tener que definir en el comando de ejecuci\\xF3n cuantos usuarios virtuales usar o cuanto tiempo ejecutar la prueba, sino que los definimos en estas opciones que k6 tendr\\xE1 en cuenta para correr las pruebas, podemos definir varios escenarios pero para este caso definiremos solo uno que lo que haces es ejecutar un n\\xFAmero fijo de iteraciones en un periodo de tiempo determinado, de igual modo haremos uso del json de usuarios generados en el seed para enviar solicitudes constantes a nuestra api, el archivo quedar\\xEDa as\\xED:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript:title=src/test.ts\"\n  }, \"import http from \\\"k6/http\\\";\\n\\nconst users = require(\\\"../resultData.json\\\");\\n\\nexport const options = {\\n  scenarios: {\\n    constant_request_rate: {\\n      executor: \\\"constant-arrival-rate\\\",\\n      rate: 1000,\\n      timeUnit: \\\"1s\\\",\\n      duration: \\\"30s\\\",\\n      preAllocatedVUs: 100,\\n      maxVUs: 200,\\n    },\\n  },\\n};\\n\\nexport function setup() {}\\n\\nexport default () => {\\n  for (let user of users) {\\n    if (user.token) {\\n      const url = `https://load-test-api-jp.herokuapp.com/users`;\\n      const params = {\\n        headers: {\\n          Authorization: `Bearer ${user.token}`,\\n        },\\n      };\\n      http.get(url, params);\\n    }\\n  }\\n};\\n\")), mdx(\"p\", null, \"Ya en el package.json colocamos previamente el script de build y el de test, pero nos falta a\\xF1adir en la l\\xEDnea 10 del webpack.config.js la instrucci\\xF3n para transpilar el archivo de test\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"test: './src/test.ts',\")), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"632px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"26.666666666666668%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA+klEQVQY003Qy26EIBQG4HkN5OY4gBNR8DbtOKa1jQub2IUr3/9N/gYmZro4gUPgy+E/McagtYYxBpxzUErhvce+71h/V1S2gsscuOBgnCOhDJSxuIZijMc+vBVC4BQ2TdNEMODhMMsypDJF27ZYlgXD/YFUSlij8NE6DHWJ797js3No7RV3b6Eul4hGMEz0H5RSghACay22bcM0TREsc41l6DD1Hj9Dh3W8RSzAWqkXGCbJ8zyC4WvqrCCYiOA8zxjHEec0RWEUHnWJd/dEvnqPW1XgzRUwWr/Auq6fGYY8OEWlKjRFA5KQOGmSJPHykWEoQmmsI88jwz+9YpHE++AZqwAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"webpack config\",\n    \"title\": \"webpack config\",\n    \"src\": \"/static/2f102a326a5a1304df30437654d941d9/7818d/entry_webpack_files.png\",\n    \"srcSet\": [\"/static/2f102a326a5a1304df30437654d941d9/5243c/entry_webpack_files.png 240w\", \"/static/2f102a326a5a1304df30437654d941d9/ab158/entry_webpack_files.png 480w\", \"/static/2f102a326a5a1304df30437654d941d9/7818d/entry_webpack_files.png 632w\"],\n    \"sizes\": \"(max-width: 632px) 100vw, 632px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(\"p\", null, \"Ahora podemos correr nuestra prueba con el comando\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"npm run test\\n\")), mdx(\"p\", null, \"Esto empezar\\xEDa a ejecutar nuestro test\"), mdx(\"undefined\", null, mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"67.5%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABe0lEQVQ4y62T727bIBRHbTDYxLAYbMeJtsb51yXSGnedlgfI3v+dzoSXbvvS1lr34eheIXQuiB9JWP3Azk/k1qILg5SSJE1JkuRF0jR9kST4EucMudKYwmDM7FXZm/i2HiVSCUSWkGmByjOUzlBKjWSZ/DV9irB/uGPd9zxe9pwva+4+NzTbGr/0+CoQQo21jjzPpwmH88DhcM/l+4ntZoU1jjwRGCmxNsOYWBUqE9OE1+uVYRh4evrGYb9h37d87VvO65bttmKzqTidGpzV04TH45Hd7kC//8j+S8P9sWN3aNCF+LdHSbVGaI2efyBzjiQVf8XjD5OFyhiy2QxVWnRpkUq9Lzaf1mu094iieJ/omaqqCKsVvuuo2vZ3H7ol1W3NLzrCsqMKHmfdmE0hUmRESoQQI6OwaRoWiwWxPuNDzF8g1DVd1+F9YD431PX8lkvLzGjKUo19WZYYc7thG08VAvGkEeccRVGMmyJxmDFmXIs18savSfif/AS0sDA46i0KLgAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"resultado test\",\n    \"title\": \"resultado test\",\n    \"src\": \"/static/be8539600f085b9b117f0718af21cd3f/7d769/first_step_run_test.png\",\n    \"srcSet\": [\"/static/be8539600f085b9b117f0718af21cd3f/5243c/first_step_run_test.png 240w\", \"/static/be8539600f085b9b117f0718af21cd3f/ab158/first_step_run_test.png 480w\", \"/static/be8539600f085b9b117f0718af21cd3f/7d769/first_step_run_test.png 960w\", \"/static/be8539600f085b9b117f0718af21cd3f/87339/first_step_run_test.png 1440w\", \"/static/be8539600f085b9b117f0718af21cd3f/88b03/first_step_run_test.png 1920w\", \"/static/be8539600f085b9b117f0718af21cd3f/0146c/first_step_run_test.png 2084w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"43.333333333333336%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABaUlEQVQoz32S626jMBCFCQYSgU0cro0DlGsgKC+w7/9g38puI3W1bX8cWTNzfObqnc8pSZIgpeR0OrnX2nEcO3zYkigSxLFwsVc8iQVSnkikdLwoivD2fWeaZ6Z5YhxHpmliGAbmeWZeFu73O8uyUFUlWqekaYoQ4hMHAuEjREAQBPi+j5dlmVO2RhiGDjb4wots/ZZzOBzwPO9n2OxN07h2rSNSisTcCJT69eOPwuu68nw+ud1urg1bcX1fKZqGvO249j1xmlK3LbrtGJYFfb0ybhvhd0ntzJxg03A8HtFZRjnP6LIk6zqq7p0kzymMQVYVpm1RRUnT94TyG8Ft23k8dowxblZnrXl77FTDwMUYSmM4G0PdvaPqN/px4lzXjOtGKOX/guPQUBYapRTC91F5ju46VFW5ilReEMUJsVKE9oyU4qgUqdaIz7n/g+TyB3l5Eoa+c4gocvDtGdgt29uyxK9L+GXTfwFGw87HeH1uAgAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"resultado test\",\n    \"title\": \"resultado test\",\n    \"src\": \"/static/df46232c86b8d7f63207dd872ff09591/7d769/second_step_run_test.png\",\n    \"srcSet\": [\"/static/df46232c86b8d7f63207dd872ff09591/5243c/second_step_run_test.png 240w\", \"/static/df46232c86b8d7f63207dd872ff09591/ab158/second_step_run_test.png 480w\", \"/static/df46232c86b8d7f63207dd872ff09591/7d769/second_step_run_test.png 960w\", \"/static/df46232c86b8d7f63207dd872ff09591/87339/second_step_run_test.png 1440w\", \"/static/df46232c86b8d7f63207dd872ff09591/88b03/second_step_run_test.png 1920w\", \"/static/df46232c86b8d7f63207dd872ff09591/e0c85/second_step_run_test.png 2024w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"El warning que aparece es porque mi maquina no soporta la cantidad de usuarios virtuales que defin\\xED xD\")), mdx(\"p\", null, \"En los resultados podemos observar que en total hizo 6308 request, 105 request por segundo aproximadamente y cero por ciento de porcentaje de error.\"), mdx(\"p\", null, \"En conclusi\\xF3n y desde mi punto de vista k6 es una forma r\\xE1pida de ejecutar pruebas de carga, bastante sencilla ya que utiliza javascript para definir las pruebas y escenarios, con las extensiones tambi\\xE9n nos da la posibilidad y el paquete postman-to-k6 nos permite definir y ejecutar una prueba a\\xFAn mas r\\xE1pido en caso de estar familiarizado con postman.\"), mdx(\"p\", null, \"Y bueno, espero haber sido lo bastante claro y explicativo durante el post y que se haya entendido todo, cualquier duda o sugerencia no dudes en contactarme, estoy en las redes como @JoralmoPro.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Nos vemos en l\\xEDnea.\")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Hola mundo, bienvenidos a este tutorial donde voy a intentar explicar como aplicar pruebas de carga con k6 sobre una pequeña api que…","timeToRead":8,"banner":null}},"pageContext":{"slug":"/load-test-with-grafana-k6","formatString":"DD.MM.YYYY"}},"staticQueryHashes":["2744905544","3090400250","318001574"]}